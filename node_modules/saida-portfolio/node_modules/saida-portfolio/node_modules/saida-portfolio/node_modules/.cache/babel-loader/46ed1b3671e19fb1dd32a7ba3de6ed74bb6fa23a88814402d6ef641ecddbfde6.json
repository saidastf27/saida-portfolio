{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import axios from'axios';import{motion}from'framer-motion';import{FaUser,FaRobot}from'react-icons/fa';import'./Chatbot.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Chatbot(){const[input,setInput]=useState('');const[messages,setMessages]=useState([]);const[loading,setLoading]=useState(false);const messagesEndRef=useRef(null);useEffect(()=>{const fetchMessages=async()=>{try{// const res = await axios.get('http://localhost:5000/api/messages');\nconst res=await axios.get('http://backend-production-96af.up.railway.app/api/messages');setMessages(res.data);}catch(error){console.error('Error loading messages:',error);}};fetchMessages();},[]);const handleSend=async()=>{if(!input.trim())return;const userMessage={role:'user',content:input};setMessages(prev=>[...prev,userMessage]);setInput('');setLoading(true);try{const res=await axios.post('http://backend-production-96af.up.railway.app/api/chat',{message:input});const botMessage={role:'bot',content:res.data.response};setMessages(prev=>[...prev,botMessage]);}catch(error){const errorMessage=error.response?'Server error: '+error.response.data.error:'Communication error with the server.';setMessages(prev=>[...prev,{role:'bot',content:errorMessage}]);}setLoading(false);};useEffect(()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});},[messages]);return/*#__PURE__*/_jsx(\"div\",{className:\"container-chat mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-chat shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header-chat text-white\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"mb-0\",children:\"\\uD83D\\uDCAC Chatbot\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body-chat\",children:[messages.map((message,index)=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:0.3},className:`d-flex ${message.role==='user'?'justify-content-end':'justify-content-start'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:`alert ${message.role==='user'?'alert-primary':'alert-secondary'} rounded-pill px-3 d-flex align-items-center gap-2`,children:[message.role==='user'?/*#__PURE__*/_jsx(FaUser,{}):/*#__PURE__*/_jsx(FaRobot,{}),/*#__PURE__*/_jsx(\"span\",{children:message.content})]})},index)),loading&&/*#__PURE__*/_jsx(motion.div,{className:\"d-flex justify-content-start\",initial:{opacity:0},animate:{opacity:1},children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-secondary rounded-pill px-3\",children:[/*#__PURE__*/_jsx(FaRobot,{}),\" \",/*#__PURE__*/_jsx(\"em\",{children:\"The bot is typing...\"})]})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-footer-chat d-flex\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control me-2\",placeholder:\"Type your message here...\",value:input,onChange:e=>setInput(e.target.value),onKeyDown:e=>e.key==='Enter'&&handleSend()}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleSend,disabled:loading,children:loading?'...':'Send'})]})]})});}export default Chatbot;","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","motion","FaUser","FaRobot","jsx","_jsx","jsxs","_jsxs","Chatbot","input","setInput","messages","setMessages","loading","setLoading","messagesEndRef","fetchMessages","res","get","data","error","console","handleSend","trim","userMessage","role","content","prev","post","message","botMessage","response","errorMessage","_messagesEndRef$curre","current","scrollIntoView","behavior","className","children","map","index","div","initial","opacity","y","animate","transition","duration","ref","type","placeholder","value","onChange","e","target","onKeyDown","key","onClick","disabled"],"sources":["C:/Users/saida/Desktop/portfolio/saida-portfolio/src/components/Chatbot.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { motion } from 'framer-motion';\r\nimport { FaUser, FaRobot } from 'react-icons/fa';\r\nimport './Chatbot.css';\r\n\r\nfunction Chatbot() {\r\n  const [input, setInput] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const fetchMessages = async () => {\r\n      try {\r\n       // const res = await axios.get('http://localhost:5000/api/messages');\r\n        const res = await axios.get('http://backend-production-96af.up.railway.app/api/messages');\r\n\r\n        setMessages(res.data);\r\n      } catch (error) {\r\n        console.error('Error loading messages:', error);\r\n      }\r\n    };\r\n\r\n    fetchMessages();\r\n  }, []);\r\n\r\n  const handleSend = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    const userMessage = { role: 'user', content: input };\r\n    setMessages((prev) => [...prev, userMessage]);\r\n    setInput('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      const res = await axios.post('http://backend-production-96af.up.railway.app/api/chat', {\r\n        message: input,\r\n      });\r\n      const botMessage = { role: 'bot', content: res.data.response };\r\n      setMessages((prev) => [...prev, botMessage]);\r\n    } catch (error) {\r\n      const errorMessage = error.response\r\n        ? 'Server error: ' + error.response.data.error\r\n        : 'Communication error with the server.';\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        { role: 'bot', content: errorMessage },\r\n      ]);\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  return (\r\n    <div className=\"container-chat mt-4\">\r\n      <div className=\"card-chat shadow\">\r\n        <div className=\"card-header-chat text-white\">\r\n          <h4 className=\"mb-0\">ðŸ’¬ Chatbot</h4>\r\n        </div>\r\n        <div className=\"card-body-chat\">\r\n          {messages.map((message, index) => (\r\n            <motion.div\r\n              key={index}\r\n              initial={{ opacity: 0, y: 10 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.3 }}\r\n              className={`d-flex ${\r\n                message.role === 'user'\r\n                  ? 'justify-content-end'\r\n                  : 'justify-content-start'\r\n              }`}\r\n            >\r\n              <div\r\n                className={`alert ${\r\n                  message.role === 'user'\r\n                    ? 'alert-primary'\r\n                    : 'alert-secondary'\r\n                } rounded-pill px-3 d-flex align-items-center gap-2`}\r\n              >\r\n                {message.role === 'user' ? <FaUser /> : <FaRobot />}\r\n                <span>{message.content}</span>\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n\r\n          {loading && (\r\n            <motion.div\r\n              className=\"d-flex justify-content-start\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n            >\r\n              <div className=\"alert alert-secondary rounded-pill px-3\">\r\n                <FaRobot /> <em>The bot is typing...</em>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n        <div className=\"card-footer-chat d-flex\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control me-2\"\r\n            placeholder=\"Type your message here...\"\r\n            value={input}\r\n            onChange={(e) => setInput(e.target.value)}\r\n            onKeyDown={(e) => e.key === 'Enter' && handleSend()}\r\n          />\r\n          <button\r\n            className=\"btn btn-primary\"\r\n            onClick={handleSend}\r\n            disabled={loading}\r\n          >\r\n            {loading ? '...' : 'Send'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chatbot;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}